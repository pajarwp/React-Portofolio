{"ast":null,"code":"import _regeneratorRuntime from \"/home/alpha/Documents/Pajar/Project React/project_react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alpha/Documents/Pajar/Project React/project_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alpha/Documents/Pajar/Project React/project_react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this;\n\nimport createStore from \"unistore\";\nimport axios from \"axios\";\nvar url = \"https://loszapatos.web.id/\";\nvar url_cors = \"https://cors-anywhere.herokuapp.com/\";\nvar initialState = {\n  all_product: [],\n  username: \"\",\n  password: \"\",\n  token: \"\"\n};\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  return {\n    setField: function setField(state, event) {\n      return _defineProperty({}, event.target.name, event.target.value);\n    },\n    postLogout: function postLogout(state) {\n      return {\n        is_login: false\n      };\n    },\n    postLogin: function () {\n      var _postLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var _this$state, username, password, header, data, self;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$state = _this.state, username = _this$state.username, password = _this$state.password;\n                header = {\n                  headers: {\n                    \"Origin\": \"https://loszapatos.web.id/\",\n                    \"Content-Type\": \"application/json\"\n                  }\n                };\n                data = {\n                  username: username,\n                  password: password\n                };\n                self = _this;\n                _context.next = 6;\n                return axios.post(url_cors + url + \"login/buyer\", data, header).then(function (response) {\n                  if (response.data.hasOwnProperty(\"token\")) {\n                    localStorage.setItem(\"token\", response.data.token);\n                    localStorage.setItem(\"isLogin\", true);\n                    self.props.history.push(\"/loggedin\");\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLogin(_x) {\n        return _postLogin.apply(this, arguments);\n      }\n\n      return postLogin;\n    }(),\n    setAsal: function setAsal(state, e) {\n      store.setState({\n        iata_asal: e.target.value\n      });\n    },\n    setTujuan: function setTujuan(state, e) {\n      store.setState({\n        iata_tujuan: e.target.value\n      });\n    },\n    setCurrAsal: function setCurrAsal(state, e) {\n      store.setState({\n        base_currency: e.target.value\n      });\n    },\n    setCurrTujuan: function setCurrTujuan(state, e) {\n      store.setState({\n        target_currency: e.target.value\n      });\n    },\n    //get estimated flight price\n    getPrice: function getPrice(state, lat_asal, long_asal, lat_tujuan, long_tujuan) {\n      var rad = function rad(x) {\n        return x * Math.PI / 180;\n      };\n\n      var radius_bumi = 6378137; // Earthâ€™s mean radius in meter\n\n      var latitude = rad(lat_asal - lat_tujuan); // latitude awal - latitude akhir\n\n      var longitude = rad(long_asal - long_tujuan); // longitude awal - longitude akhir\n\n      var a = Math.sin(latitude / 2) * Math.sin(latitude / 2) + Math.cos(rad(lat_tujuan)) * Math.cos(rad(lat_asal)) * Math.sin(longitude / 2) * Math.sin(longitude / 2);\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      var distance_in_km = radius_bumi * c / 1000;\n      store.setState({\n        distance_in_km: distance_in_km\n      });\n    },\n    //get new currency\n    getNewCurrency: function () {\n      var _getNewCurrency = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(state, moneysum) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency).then(function (response) {\n                  store.setState({\n                    rate: response.data.rates[state.target_currency]\n                  });\n                  var new_value = state.rate * moneysum;\n                  store.setState({\n                    new_sum: new_value\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getNewCurrency(_x2, _x3) {\n        return _getNewCurrency.apply(this, arguments);\n      }\n\n      return getNewCurrency;\n    }(),\n    getAllProduct: function () {\n      var _getAllProduct = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(state) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(url_cors + url + \"item\").then(function (response) {\n                  store.setState({\n                    all_product: response.data.data\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getAllProduct(_x4) {\n        return _getAllProduct.apply(this, arguments);\n      }\n\n      return getAllProduct;\n    }(),\n    //get api data for flight and currency\n    getData: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(state) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.all([axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" + state.iata_asal), axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" + state.iata_tujuan), axios.get(\"http://aviation-edge.com/v2/public/timetable?key=57d91e-653b78&type=departure&status=scheduled&iataCode=\" + state.iata_asal), axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency)]).then(axios.spread(function (response1, response2, response3, response4) {\n                  store.setState({\n                    airport_id_asal: response1.data[0].airportId,\n                    airport_name_asal: response1.data[0].nameAirport,\n                    nation_code_asal: response1.data[0].codeIso2Country,\n                    latitude_asal: response1.data[0].latitudeAirport,\n                    longitude_asal: response1.data[0].longitudeAirport\n                  });\n                  store.setState({\n                    airport_id_tujuan: response2.data[0].airportId,\n                    airport_name_tujuan: response2.data[0].nameAirport,\n                    nation_code_tujuan: response2.data[0].codeIso2Country,\n                    latitude_tujuan: response2.data[0].latitudeAirport,\n                    longitude_tujuan: response2.data[0].longitudeAirport\n                  });\n                  store.setState({\n                    flight_list: response3.data\n                  });\n                  store.setState({\n                    rate: response4.data.rates.USD\n                  });\n                })).catch(function (error) {});\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getData(_x5) {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  };\n};","map":{"version":3,"sources":["/home/alpha/Documents/Pajar/Project React/project_react/src/store.js"],"names":["createStore","axios","url","url_cors","initialState","all_product","username","password","token","store","actions","setField","state","event","target","name","value","postLogout","is_login","postLogin","header","headers","data","self","post","then","response","hasOwnProperty","localStorage","setItem","props","history","push","catch","error","console","log","setAsal","e","setState","iata_asal","setTujuan","iata_tujuan","setCurrAsal","base_currency","setCurrTujuan","target_currency","getPrice","lat_asal","long_asal","lat_tujuan","long_tujuan","rad","x","Math","PI","radius_bumi","latitude","longitude","a","sin","cos","c","atan2","sqrt","distance_in_km","getNewCurrency","moneysum","get","rate","rates","new_value","new_sum","getAllProduct","getData","all","spread","response1","response2","response3","response4","airport_id_asal","airportId","airport_name_asal","nameAirport","nation_code_asal","codeIso2Country","latitude_asal","latitudeAirport","longitude_asal","longitudeAirport","airport_id_tujuan","airport_name_tujuan","nation_code_tujuan","latitude_tujuan","longitude_tujuan","flight_list","USD"],"mappings":"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","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst url = \"https://loszapatos.web.id/\";\nconst url_cors = \"https://cors-anywhere.herokuapp.com/\";\n\nconst initialState = {\n all_product : [],\n username: \"\",\n password: \"\",\n token: \"\",\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n  setField: (state, event) => {\n    return { [event.target.name]: event.target.value };\n  },\n\n  postLogout: state => {\n    return { is_login: false };\n  },\n\n  postLogin: async state => {\n    const {username, password} = this.state;\n    const header =  {headers:{\"Origin\": \"https://loszapatos.web.id/\", \"Content-Type\": \"application/json\"}}\n    const data = {\n      username:username,\n      password:password\n    };\n    const self = this;\n    await axios\n    .post(url_cors + url + \"login/buyer\", data, header)\n    .then(function(response){\n      if (response.data.hasOwnProperty(\"token\")) {\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"isLogin\", true);\n        self.props.history.push(\"/loggedin\")\n      }\n    })\n    .catch(function(error){\n      console.log(error);\n    })\n  },\n\n  setAsal: (state, e) => {\n    store.setState({ iata_asal: e.target.value });\n  },\n\n  setTujuan: (state, e) => {\n    store.setState({ iata_tujuan: e.target.value });\n  },\n\n  setCurrAsal: (state, e) => {\n    store.setState({ base_currency: e.target.value });\n  },\n\n  setCurrTujuan: (state, e) => {\n    store.setState({ target_currency: e.target.value });\n  },\n\n  //get estimated flight price\n  getPrice: (state, lat_asal, long_asal, lat_tujuan, long_tujuan) => {\n    const rad = function(x) {\n      return (x * Math.PI) / 180;\n    };\n\n    const radius_bumi = 6378137; // Earthâ€™s mean radius in meter\n    const latitude = rad(lat_asal - lat_tujuan); // latitude awal - latitude akhir\n    const longitude = rad(long_asal - long_tujuan); // longitude awal - longitude akhir\n    const a =\n      Math.sin(latitude / 2) * Math.sin(latitude / 2) +\n      Math.cos(rad(lat_tujuan)) *\n        Math.cos(rad(lat_asal)) *\n        Math.sin(longitude / 2) *\n        Math.sin(longitude / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance_in_km = (radius_bumi * c) / 1000;\n    store.setState({ distance_in_km: distance_in_km });\n  },\n\n  //get new currency\n  getNewCurrency: async (state, moneysum) => {\n    await axios\n      .get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency)\n      .then(function(response) {\n        store.setState({ rate: response.data.rates[state.target_currency] });\n        const new_value = state.rate * moneysum;\n        store.setState({ new_sum: new_value });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  getAllProduct: async state => {\n    await axios\n      .get(url_cors + url + \"item\")\n      .then(function(response) {\n        store.setState({all_product: response.data.data});\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  //get api data for flight and currency\n  getData: async state => {\n    await axios\n      .all([\n        axios.get(\n          \"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" +\n            state.iata_asal\n        ),\n        axios.get(\n          \"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" +\n            state.iata_tujuan\n        ),\n        axios.get(\n          \"http://aviation-edge.com/v2/public/timetable?key=57d91e-653b78&type=departure&status=scheduled&iataCode=\" +\n            state.iata_asal\n        ),\n        axios.get(\n          \"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency\n        )\n      ])\n      .then(\n        axios.spread(function(response1, response2, response3, response4) {\n          store.setState({\n            airport_id_asal: response1.data[0].airportId,\n            airport_name_asal: response1.data[0].nameAirport,\n            nation_code_asal: response1.data[0].codeIso2Country,\n            latitude_asal: response1.data[0].latitudeAirport,\n            longitude_asal: response1.data[0].longitudeAirport\n          });\n          store.setState({\n            airport_id_tujuan: response2.data[0].airportId,\n            airport_name_tujuan: response2.data[0].nameAirport,\n            nation_code_tujuan: response2.data[0].codeIso2Country,\n            latitude_tujuan: response2.data[0].latitudeAirport,\n            longitude_tujuan: response2.data[0].longitudeAirport\n          });\n          store.setState({ flight_list: response3.data });\n          store.setState({ rate: response4.data.rates.USD });\n        })\n      )\n      .catch(function(error) {});\n  }\n});\n"]},"metadata":{},"sourceType":"module"}