{"ast":null,"code":"import _defineProperty from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/alphatech/Project React/project_react/src/pages/Login.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.changeInput = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.postLogin = function () {\n      var _this$state = _this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      var data = {\n        username: username,\n        password: password\n      };\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios.post(\"https://api-todofancy.herokuapp.com/api/auth\", data).then(function (response) {\n        localStorage.setItem(\"api_key\", response.data.api_key);\n        localStorage.setItem(\"is_login\", true);\n        localStorage.setItem(\"username\", response.data.user_data.username);\n        localStorage.setItem(\"email\", response.data.user_data.email);\n        localStorage.setItem(\"avatar\", response.data.user_data.avatar);\n        self.props.history.push(\"/home\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"wrapper1 fadeInDown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"formContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"fadeIn first\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../static/img/teleflight (2).png'),\n        id: \"icon\",\n        alt: \"User Icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          return event.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"login\",\n        class: \"fadeIn second\",\n        name: \"login\",\n        placeholder: \"username\",\n        onChange: function onChange(event) {\n          return _this2.changeInput(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        class: \"fadeIn third\",\n        name: \"login\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        class: \"fadeIn fourth\",\n        value: \"Sign In\",\n        onClick: function onClick() {\n          return _this2.postLogin();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/home/alphatech/Project React/project_react/src/pages/Login.js"],"names":["React","Component","axios","withRouter","Login","props","changeInput","event","setState","target","name","value","postLogin","state","username","password","data","self","post","then","response","localStorage","setItem","api_key","user_data","email","avatar","history","push","catch","error","console","log","require","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Login extends Component {\n    constructor(props){\n        super(props);\n        this.state = { username: \"\", \n        password: \"\" };\n    }\n\n    changeInput = event => {\n      this.setState({[event.target.name]: event.target.value});\n    };\n    postLogin = () => {\n      const {username, password} = this.state;\n      const data = {\n        username : username,\n        password : password\n      };\n      const self = this;\n      axios\n      .post(\"https://api-todofancy.herokuapp.com/api/auth\", data)\n      .then(function(response){\n        localStorage.setItem(\"api_key\", response.data.api_key);\n        localStorage.setItem(\"is_login\", true);\n        localStorage.setItem(\"username\", response.data.user_data.username);\n        localStorage.setItem(\"email\", response.data.user_data.email);\n        localStorage.setItem(\"avatar\", response.data.user_data.avatar);\n        self.props.history.push(\"/home\")\n      })\n      .catch(function(error){\n        console.log(error);\n      });\n    };\n    render(){\n      return(\n          <section>\n            <div class=\"wrapper1 fadeInDown\">\n                <div id=\"formContent\">\n\n                    <div class=\"fadeIn first\">\n                        <img src={require('../static/img/teleflight (2).png')} id=\"icon\" alt=\"User Icon\"/>\n                    </div>\n\n                    <form onSubmit={event => event.preventDefault()}>\n                        <input type=\"text\" id=\"login\" class=\"fadeIn second\" name=\"login\" placeholder=\"username\" onChange={event => this.changeInput(event)}/>\n                        <input type=\"password\" id=\"password\" class=\"fadeIn third\" name=\"login\" placeholder=\"password\"/>\n                        <input type=\"submit\" class=\"fadeIn fourth\" value=\"Sign In\" onClick={() => this.postLogin()}/>\n                    </form>\n\n                </div>\n            </div>\n        </section>\n        \n      );\n    }\n  }\n  \n  export default withRouter(Login);"]},"metadata":{},"sourceType":"module"}