{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport createStore from 'unistore';\nimport axios from 'axios';\nvar initialState = {\n  api_key: \"\",\n  username: \"\",\n  password: \"\",\n  full_name: \"\",\n  email: \"\",\n  is_login: false,\n  listNews: [],\n  listTopNews: [],\n  search: \"\"\n};\nvar urlHeadline = 'https://newsapi.org/v2/top-headlines?' + 'country=id&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\nvar urlEverything = 'https://newsapi.org/v2/everything?' + 'q=manchester united&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  return {\n    setField: function setField(state, event) {\n      return _defineProperty({}, event.target.name, event.target.value);\n    },\n    postLogout: function postLogout(state) {\n      return {\n        is_login: false\n      };\n    },\n    postLogin: function () {\n      var _postLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  username: state.username,\n                  password: state.password\n                };\n                _context.next = 3;\n                return axios.post(\"https://ilfarro1.free.beeceptor.com/signin\", data).then(function (response) {\n                  console.log('post loginnnnnn!!!!', response.data);\n\n                  if (response.data.hasOwnProperty('api_key')) {\n                    store.setState({\n                      'api_key': response.data.api_key,\n                      'is_login': true,\n                      full_name: state.username,\n                      'email': response.data.email\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLogin(_x) {\n        return _postLogin.apply(this, arguments);\n      }\n\n      return postLogin;\n    }(),\n    getNews: function getNews(state) {\n      axios.get(urlEverything).then(function (response) {\n        store.setState({\n          listNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get(urlHeadline).then(function (response) {\n        store.setState({\n          listTopNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    doSearch: function doSearch(state, keyword) {\n      var urlSearch = 'https://newsapi.org/v2/everything?' + 'q=' + keyword + '&apiKey=66cd3036f20e42b199d9335f9283b88e';\n      axios.get(urlSearch).then(function (response) {\n        store.setState({\n          listNews: response.data.articles\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/home/alphatech/Project React/project_react/src/store.js"],"names":["createStore","axios","initialState","api_key","username","password","full_name","email","is_login","listNews","listTopNews","search","urlHeadline","urlEverything","store","actions","setField","state","event","target","name","value","postLogout","postLogin","data","post","then","response","console","log","hasOwnProperty","setState","catch","error","getNews","get","articles","doSearch","keyword","urlSearch"],"mappings":"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","sourcesContent":["import createStore from 'unistore';\nimport axios from 'axios';\n\nconst initialState = {\n    api_key: \"\",\n    username: \"\",\n    password: \"\",\n    full_name: \"\",\n    email: \"\",\n    is_login: false,\n    listNews: [],\n    listTopNews: [],\n    search: \"\"\n};\n\nconst urlHeadline = 'https://newsapi.org/v2/top-headlines?' + 'country=id&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\nconst urlEverything = 'https://newsapi.org/v2/everything?' + 'q=manchester united&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n    setField: (state, event) => {\n        return { [event.target.name]: event.target.value };\n    },\n\n    postLogout: state => {\n        return { is_login: false };\n    },\n\n    postLogin: async state => {\n        const data = { username: state.username, password: state.password };\n        await axios\n            .post(\"https://ilfarro1.free.beeceptor.com/signin\", data)\n            .then(response => {\n                console.log('post loginnnnnn!!!!', response.data)\n                if (response.data.hasOwnProperty('api_key')) {\n                    store.setState({\n                        'api_key': response.data.api_key,\n                        'is_login': true,\n                        full_name: state.username,\n                        'email': response.data.email\n                    })\n                }\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    },\n\n    getNews: state => {\n        axios\n            .get(urlEverything)\n            .then(function(response) {\n                store.setState({ listNews: response.data.articles });\n                console.log(response.data);\n            })\n            .catch(function(error) {\n               console.log(error); \n            });\n\n        axios\n            .get(urlHeadline)\n            .then(function(response) {\n                store.setState({ listTopNews: response.data.articles });\n                console.log(response.data);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    },\n\n    doSearch(state, keyword) {\n        const urlSearch = 'https://newsapi.org/v2/everything?' + 'q=' + keyword + '&apiKey=66cd3036f20e42b199d9335f9283b88e';\n        axios\n            .get(urlSearch)\n            .then(function(response) {\n                store.setState({ listNews: response.data.articles });\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    }\n})"]},"metadata":{},"sourceType":"module"}