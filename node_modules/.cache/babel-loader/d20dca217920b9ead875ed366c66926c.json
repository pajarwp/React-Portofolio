{"ast":null,"code":"import _regeneratorRuntime from \"/home/alpha/Documents/Pajar/Project React/project_react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alpha/Documents/Pajar/Project React/project_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alpha/Documents/Pajar/Project React/project_react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport createStore from \"unistore\";\nimport axios from \"axios\";\nvar url = \"https://loszapatos.web.id/\";\nvar url_cors = \"https://cors-anywhere.herokuapp.com/\";\nvar initialState = {\n  all_product: [],\n  username: \"\",\n  password: \"\",\n  token: \"\",\n  isLogin: false,\n  buyer_fullname: \"\",\n  buyer_username: \"\",\n  buyer_email: \"\",\n  buyer_address: \"\",\n  buyer_url_image: \"\",\n  buyer_phone: \"\",\n  user_store_name: \"\",\n  user_email: \"\",\n  user_address: \"\",\n  user_url_image: \"\",\n  user_phone: \"\",\n  user_website: \"\",\n  user_description: \"\"\n};\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  var _ref2;\n\n  return _ref2 = {\n    setField: function setField(state, e) {\n      return _defineProperty({}, e.target.name, e.target.value);\n    },\n    postLogout: function postLogout(state) {\n      store.setState({\n        is_login: false,\n        token: \"\"\n      });\n    },\n    postLoginBuyer: function () {\n      var _postLoginBuyer = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var header, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                header = {\n                  headers: {\n                    \"Origin\": \"https://loszapatos.web.id/\",\n                    \"Content-Type\": \"application/json\"\n                  }\n                };\n                data = {\n                  username: state.username,\n                  password: state.password\n                };\n                _context.next = 4;\n                return axios.post(url_cors + url + \"login/buyer\", data, header).then(function (response) {\n                  if (response.data.hasOwnProperty(\"token\")) {\n                    console.log(\"bangsat\", response.data);\n                    store.setState({\n                      token: response.data.token,\n                      isLogin: true\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLoginBuyer(_x) {\n        return _postLoginBuyer.apply(this, arguments);\n      }\n\n      return postLoginBuyer;\n    }(),\n    postLoginUser: function () {\n      var _postLoginUser = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(state) {\n        var header, data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                header = {\n                  headers: {\n                    \"Origin\": \"https://loszapatos.web.id/\",\n                    \"Content-Type\": \"application/json\"\n                  }\n                };\n                data = {\n                  store_name: state.username,\n                  password: state.password\n                };\n                _context2.next = 4;\n                return axios.post(url_cors + url + \"login/user\", data, header).then(function (response) {\n                  if (response.data.hasOwnProperty(\"token\")) {\n                    store.setState({\n                      token: response.data.token,\n                      isLogin: true\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function postLoginUser(_x2) {\n        return _postLoginUser.apply(this, arguments);\n      }\n\n      return postLoginUser;\n    }(),\n    setAsal: function setAsal(state, e) {\n      store.setState({\n        iata_asal: e.target.value\n      });\n    },\n    setTujuan: function setTujuan(state, e) {\n      store.setState({\n        iata_tujuan: e.target.value\n      });\n    },\n    setCurrAsal: function setCurrAsal(state, e) {\n      store.setState({\n        base_currency: e.target.value\n      });\n    },\n    setCurrTujuan: function setCurrTujuan(state, e) {\n      store.setState({\n        target_currency: e.target.value\n      });\n    },\n    getAllProduct: function () {\n      var _getAllProduct = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(state) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(url_cors + url + \"item\").then(function (response) {\n                  store.setState({\n                    all_product: response.data.data\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getAllProduct(_x3) {\n        return _getAllProduct.apply(this, arguments);\n      }\n\n      return getAllProduct;\n    }(),\n    getBuyerData: function () {\n      var _getBuyerData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(state) {\n        var header;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                header = {\n                  headers: {\n                    \"Origin\": \"https://loszapatos.web.id/\",\n                    \"Authorization\": \"Bearer \" + state.token\n                  }\n                };\n                _context4.next = 3;\n                return axios.get(url_cors + url + \"buyer_profile\", header).then(function (response) {\n                  store.setState({\n                    buyer_fullname: response.data.data.fullname,\n                    buyer_username: response.data.data.username,\n                    buyer_email: response.data.data.email,\n                    buyer_address: response.data.data.address,\n                    buyer_phone: response.data.data.phone,\n                    buyer_url_image: response.data.data.url_image\n                  });\n                });\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getBuyerData(_x4) {\n        return _getBuyerData.apply(this, arguments);\n      }\n\n      return getBuyerData;\n    }()\n  }, _defineProperty(_ref2, \"getBuyerData\", function () {\n    var _getBuyerData2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5(state) {\n      var header;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              header = {\n                headers: {\n                  \"Origin\": \"https://loszapatos.web.id/\",\n                  \"Authorization\": \"Bearer \" + state.token\n                }\n              };\n              _context5.next = 3;\n              return axios.get(url_cors + url + \"buyer_profile\", header).then(function (response) {\n                store.setState({\n                  buyer_fullname: response.data.data.fullname,\n                  buyer_username: response.data.data.username,\n                  buyer_email: response.data.data.email,\n                  buyer_address: response.data.data.address,\n                  buyer_phone: response.data.data.phone,\n                  buyer_url_image: response.data.data.url_image\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function getBuyerData(_x5) {\n      return _getBuyerData2.apply(this, arguments);\n    }\n\n    return getBuyerData;\n  }()), _defineProperty(_ref2, \"getData\", function () {\n    var _getData = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee6(state) {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return axios.all([axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" + state.iata_asal), axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" + state.iata_tujuan), axios.get(\"http://aviation-edge.com/v2/public/timetable?key=57d91e-653b78&type=departure&status=scheduled&iataCode=\" + state.iata_asal), axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency)]).then(axios.spread(function (response1, response2, response3, response4) {\n                store.setState({\n                  airport_id_asal: response1.data[0].airportId,\n                  airport_name_asal: response1.data[0].nameAirport,\n                  nation_code_asal: response1.data[0].codeIso2Country,\n                  latitude_asal: response1.data[0].latitudeAirport,\n                  longitude_asal: response1.data[0].longitudeAirport\n                });\n                store.setState({\n                  airport_id_tujuan: response2.data[0].airportId,\n                  airport_name_tujuan: response2.data[0].nameAirport,\n                  nation_code_tujuan: response2.data[0].codeIso2Country,\n                  latitude_tujuan: response2.data[0].latitudeAirport,\n                  longitude_tujuan: response2.data[0].longitudeAirport\n                });\n                store.setState({\n                  flight_list: response3.data\n                });\n                store.setState({\n                  rate: response4.data.rates.USD\n                });\n              })).catch(function (error) {});\n\n            case 2:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    function getData(_x6) {\n      return _getData.apply(this, arguments);\n    }\n\n    return getData;\n  }()), _ref2;\n};","map":{"version":3,"sources":["/home/alpha/Documents/Pajar/Project React/project_react/src/store.js"],"names":["createStore","axios","url","url_cors","initialState","all_product","username","password","token","isLogin","buyer_fullname","buyer_username","buyer_email","buyer_address","buyer_url_image","buyer_phone","user_store_name","user_email","user_address","user_url_image","user_phone","user_website","user_description","store","actions","setField","state","e","target","name","value","postLogout","setState","is_login","postLoginBuyer","header","headers","data","post","then","response","hasOwnProperty","console","log","catch","error","postLoginUser","store_name","setAsal","iata_asal","setTujuan","iata_tujuan","setCurrAsal","base_currency","setCurrTujuan","target_currency","getAllProduct","get","getBuyerData","fullname","email","address","phone","url_image","all","spread","response1","response2","response3","response4","airport_id_asal","airportId","airport_name_asal","nameAirport","nation_code_asal","codeIso2Country","latitude_asal","latitudeAirport","longitude_asal","longitudeAirport","airport_id_tujuan","airport_name_tujuan","nation_code_tujuan","latitude_tujuan","longitude_tujuan","flight_list","rate","rates","USD"],"mappings":"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","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst url = \"https://loszapatos.web.id/\";\nconst url_cors = \"https://cors-anywhere.herokuapp.com/\";\n\nconst initialState = {\n all_product : [],\n username: \"\",\n password: \"\",\n token: \"\",\n isLogin: false,\n buyer_fullname:\"\",\n buyer_username:\"\",\n buyer_email: \"\",\n buyer_address:\"\",\n buyer_url_image: \"\",\n buyer_phone: \"\",\n user_store_name:\"\",\n user_email: \"\",\n user_address:\"\",\n user_url_image: \"\",\n user_phone: \"\",\n user_website: \"\",\n user_description:\"\",\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n  setField: (state, e) => {\n    return { [e.target.name]: e.target.value };\n  },\n\n  postLogout: state => {\n    store.setState ({ is_login: false, token: \"\" });\n  },\n\n  postLoginBuyer: async state => {\n    const header =  {headers:{\"Origin\": \"https://loszapatos.web.id/\", \"Content-Type\": \"application/json\"}}\n    const data = {\n      username:state.username,\n      password:state.password\n    };\n    await axios\n    .post(url_cors + url + \"login/buyer\", data, header)\n    .then(function(response){\n      if (response.data.hasOwnProperty(\"token\")) {\n        console.log(\"bangsat\", response.data)\n        store.setState({token: response.data.token,\n          isLogin: true\n        });\n      }\n    })\n    .catch(function(error){\n      console.log(error);\n    })\n  },\n\n  postLoginUser: async state => {\n    const header =  {headers:{\"Origin\": \"https://loszapatos.web.id/\", \"Content-Type\": \"application/json\"}}\n    const data = {\n      store_name:state.username,\n      password:state.password\n    };\n    await axios\n    .post(url_cors + url + \"login/user\", data, header)\n    .then(function(response){\n      if (response.data.hasOwnProperty(\"token\")) {\n        store.setState({token: response.data.token,\n          isLogin: true\n        });\n      }\n    })\n    .catch(function(error){\n      console.log(error);\n    })\n  },\n\n  setAsal: (state, e) => {\n    store.setState({ iata_asal: e.target.value });\n  },\n\n  setTujuan: (state, e) => {\n    store.setState({ iata_tujuan: e.target.value });\n  },\n\n  setCurrAsal: (state, e) => {\n    store.setState({ base_currency: e.target.value });\n  },\n\n  setCurrTujuan: (state, e) => {\n    store.setState({ target_currency: e.target.value });\n  },\n\n  getAllProduct: async state => {\n    await axios\n      .get(url_cors + url + \"item\")\n      .then(function(response) {\n        store.setState({all_product: response.data.data});\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  getBuyerData: async state => {\n    const header =  {headers:{\"Origin\": \"https://loszapatos.web.id/\", \"Authorization\": \"Bearer \" + state.token}}\n        await axios\n        .get(url_cors + url + \"buyer_profile\", header)\n        .then(function(response){\n         store.setState({buyer_fullname:response.data.data.fullname,\n                buyer_username:response.data.data.username,\n                buyer_email:response.data.data.email,\n                buyer_address:response.data.data.address,\n                buyer_phone:response.data.data.phone,\n                buyer_url_image:response.data.data.url_image,\n        })\n          }\n        )\n  },\n\n  getBuyerData: async state => {\n    const header =  {headers:{\"Origin\": \"https://loszapatos.web.id/\", \"Authorization\": \"Bearer \" + state.token}}\n        await axios\n        .get(url_cors + url + \"buyer_profile\", header)\n        .then(function(response){\n         store.setState({buyer_fullname:response.data.data.fullname,\n                buyer_username:response.data.data.username,\n                buyer_email:response.data.data.email,\n                buyer_address:response.data.data.address,\n                buyer_phone:response.data.data.phone,\n                buyer_url_image:response.data.data.url_image,\n        })\n          }\n        )\n  },\n\n\n  getData: async state => {\n    await axios\n      .all([\n        axios.get(\n          \"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" +\n            state.iata_asal\n        ),\n        axios.get(\n          \"https://aviation-edge.com/v2/public/airportDatabase?key=57d91e-653b78&codeIataAirport=\" +\n            state.iata_tujuan\n        ),\n        axios.get(\n          \"http://aviation-edge.com/v2/public/timetable?key=57d91e-653b78&type=departure&status=scheduled&iataCode=\" +\n            state.iata_asal\n        ),\n        axios.get(\n          \"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency\n        )\n      ])\n      .then(\n        axios.spread(function(response1, response2, response3, response4) {\n          store.setState({\n            airport_id_asal: response1.data[0].airportId,\n            airport_name_asal: response1.data[0].nameAirport,\n            nation_code_asal: response1.data[0].codeIso2Country,\n            latitude_asal: response1.data[0].latitudeAirport,\n            longitude_asal: response1.data[0].longitudeAirport\n          });\n          store.setState({\n            airport_id_tujuan: response2.data[0].airportId,\n            airport_name_tujuan: response2.data[0].nameAirport,\n            nation_code_tujuan: response2.data[0].codeIso2Country,\n            latitude_tujuan: response2.data[0].latitudeAirport,\n            longitude_tujuan: response2.data[0].longitudeAirport\n          });\n          store.setState({ flight_list: response3.data });\n          store.setState({ rate: response4.data.rates.USD });\n        })\n      )\n      .catch(function(error) {});\n  }\n});\n"]},"metadata":{},"sourceType":"module"}