{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alphatech/Project React/project_react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport createStore from 'unistore';\nimport axios from 'axios';\nvar initialState = {\n  api_key: \"\",\n  username: \"\",\n  password: \"\",\n  full_name: \"\",\n  email: \"\",\n  is_login: false,\n  listNews: [],\n  listTopNews: [],\n  search: \"\",\n  iata_asal: \"SUB\",\n  airport_id_asal: \"\",\n  airport_name_asal: \"\",\n  nation_code_asal: \"\",\n  latitude_asal: \"\",\n  longitude_asal: \"\",\n  iata_tujuan: \"CGK\",\n  airport_id_tujuan: \"\",\n  airport_name_tujuan: \"\",\n  nation_code_tujuan: \"\",\n  latitude_tujuan: \"\",\n  longitude_tujuan: \"\",\n  flight_list: [],\n  weather: \"\",\n  temperature: \"\",\n  sunrise: \"\",\n  sunset: \"\",\n  rate: \"\",\n  base_currency: \"IDR\",\n  new_sum: \"\",\n  word: \"\",\n  estimasi_harga_lion: \"\",\n  estimasi_harga_batik: \"\",\n  estimasi_harga_citilink: \"\",\n  estimasi_harga_garuda: \"\",\n  estimasi_harga_sriwijaya: \"\",\n  estimasi_harga_lain: \"\"\n};\nvar urlHeadline = 'https://newsapi.org/v2/top-headlines?' + 'country=id&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\nvar urlEverything = 'https://newsapi.org/v2/everything?' + 'q=manchester united&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e'; // const keyFlight = 'key=2bd460-34e534';\n// const airportDatabase = 'https://aviation-edge.com/v2/public/airportDatabase';\n// const airportEndpoint = 'codeIataAirport='\n// const iataAirport = 'SUB'\n// const urlAirport = airportDatabase + '?' + keyFlight + '&' + airportEndpoint + iataAirport\n\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  return {\n    setField: function setField(state, event) {\n      return _defineProperty({}, event.target.name, event.target.value);\n    },\n    postLogout: function postLogout(state) {\n      return {\n        is_login: false\n      };\n    },\n    postLogin: function () {\n      var _postLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  username: state.username,\n                  password: state.password\n                };\n                _context.next = 3;\n                return axios.post(\"https://ilfarro1.free.beeceptor.com/signin\", data).then(function (response) {\n                  console.log('post loginnnnnn!!!!', response.data);\n\n                  if (response.data.hasOwnProperty('api_key')) {\n                    store.setState({\n                      'api_key': response.data.api_key,\n                      'is_login': true,\n                      full_name: state.username,\n                      'email': response.data.email\n                    });\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLogin(_x) {\n        return _postLogin.apply(this, arguments);\n      }\n\n      return postLogin;\n    }(),\n    getNews: function getNews(state) {\n      axios.get(urlEverything).then(function (response) {\n        store.setState({\n          listNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get(urlHeadline).then(function (response) {\n        store.setState({\n          listTopNews: response.data.articles\n        });\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    doSearch: function doSearch(state, keyword) {\n      var urlSearch = 'https://newsapi.org/v2/everything?' + 'q=' + keyword + '&apiKey=66cd3036f20e42b199d9335f9283b88e';\n      axios.get(urlSearch).then(function (response) {\n        store.setState({\n          listNews: response.data.articles\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // airportDetail: state => {\n    //     axios\n    //     .get(urlAirport)\n    //     .then(function(response) {\n    //         store.setState({ \n    //             'airport_id_asal': response.data[0].airportId,\n    //             'airport_name_asal': response.data[0].nameAirport,\n    //             'nation_code_asal': response.data[0].codeIso2Country,\n    //             'latitude_asal': response.data[0].latitudeAirport,\n    //             'longitude_asal': response.data[0].longitudeAirport\n    //         });\n    //     })\n    //     .catch(function(error) {\n    //        console.log(error); \n    //     });\n    // },\n    getWeather: function () {\n      var _getWeather = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(state) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.get(\"http://api.weatherbit.io/v2.0/current?lat=-7.2575&lon=112.7521&key=aa3c976285c64dafa3662f2e99d4bd03\");\n\n              case 3:\n                response = _context2.sent;\n                store.setState({\n                  weather: response.data.data[0].weather.description,\n                  temperature: response.data.data[0].temp,\n                  sunrise: response.data.data[0].sunrise,\n                  sunset: response.data.data[0].sunset\n                });\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }));\n\n      function getWeather(_x2) {\n        return _getWeather.apply(this, arguments);\n      }\n\n      return getWeather;\n    }(),\n    getRates: function () {\n      var _getRates = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(state) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return axios.get(\" https://api.exchangeratesapi.io/latest?base=IDR\");\n\n              case 3:\n                response = _context3.sent;\n                store.setState({\n                  weather: response.data.rates.USD\n                });\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(_context3.t0);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function getRates(_x3) {\n        return _getRates.apply(this, arguments);\n      }\n\n      return getRates;\n    }(),\n    getPrice: function getPrice(state, lat_asal, long_asal, lat_tujuan, long_tujuan) {\n      var rad = function rad(x) {\n        return x * Math.PI / 180;\n      };\n\n      var radius_bumi = 6378137; // Earth’s mean radius in meter\n\n      var latitude = rad(lat_asal - lat_tujuan); // latitude awal - latitude akhir\n\n      var longitude = rad(long_asal - long_tujuan); // longitude awal - longitude akhir\n\n      var a = Math.sin(latitude / 2) * Math.sin(latitude / 2) + Math.cos(rad(lat_tujuan)) * Math.cos(rad(lat_asal)) * Math.sin(longitude / 2) * Math.sin(longitude / 2);\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      var distance_in_km = radius_bumi * c / 1000;\n      var estimasi_harga_lion = Math.round(distance_in_km * 1271.49321267);\n      var estimasi_harga_citilink = Math.round(distance_in_km * 1395.173453997);\n      var estimasi_harga_batik = Math.round(distance_in_km * 1586.726998492);\n      var estimasi_harga_sriwijaya = Math.round(distance_in_km * 1736.04826546);\n      var estimasi_harga_garuda = Math.round(distance_in_km * 2419.306184012);\n      var estimasi_harga_lain = Math.round(distance_in_km * 2000);\n      store.setState({\n        estimasi_harga_batik: estimasi_harga_batik,\n        estimasi_harga_citilink: estimasi_harga_citilink,\n        estimasi_harga_garuda: estimasi_harga_garuda,\n        estimasi_harga_lion: estimasi_harga_lion,\n        estimasi_harga_sriwijaya: estimasi_harga_sriwijaya,\n        estimasi_harga_lain: estimasi_harga_lain\n      });\n      return estimasi_harga_lain;\n    },\n    getNewPrice: function getNewPrice(state) {},\n    // getNewCurrency : async (state, moneysum, value) => {\n    //     try {\n    //         const response = await axios.get(\n    //         \"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency\n    //         )\n    //         store.setState({rate: response.data.rates[value]})\n    //         }\n    //         catch(error){\n    //         console.log(error)\n    //     }\n    //     const new_value = state.rate * moneysum\n    //     store.setState({new_sum: new_value})   \n    // },\n    getNewCurrency: function () {\n      var _getNewCurrency = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(state, moneysum, value) {\n        var delayInMilliseconds;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                delayInMilliseconds = 1000;\n                _context4.next = 3;\n                return axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency).then(function (response) {\n                  store.setState({\n                    rate: response.data.rates[value]\n                  });\n                  var new_value = state.rate * moneysum;\n                  store.setState({\n                    new_sum: new_value\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getNewCurrency(_x4, _x5, _x6) {\n        return _getNewCurrency.apply(this, arguments);\n      }\n\n      return getNewCurrency;\n    }(),\n    getData: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(state) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios.all([axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=d11ea5-5d02c1&codeIataAirport=\" + state.iata_asal), axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=d11ea5-5d02c1&codeIataAirport=\" + state.iata_tujuan), axios.get(\"http://aviation-edge.com/v2/public/timetable?key=d11ea5-5d02c1&type=departure&status=scheduled&iataCode=\" + state.iata_asal), axios.get(\"http://api.weatherbit.io/v2.0/current?lat=-7.2575&lon=112.7521&key=aa3c976285c64dafa3662f2e99d4bd03\"), axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency), axios.get(\"https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20190314T152357Z.0b7d913c58c07a36.f353e3c73e10c2849b2fe3b87a70c613c5656395&text=selamat jalan&lang=id-it\")]).then(axios.spread(function (response1, response2, response3, response4, response5, response6) {\n                  store.setState({\n                    airport_id_asal: response1.data[0].airportId,\n                    airport_name_asal: response1.data[0].nameAirport,\n                    nation_code_asal: response1.data[0].codeIso2Country,\n                    latitude_asal: response1.data[0].latitudeAirport,\n                    longitude_asal: response1.data[0].longitudeAirport\n                  });\n                  store.setState({\n                    airport_id_tujuan: response2.data[0].airportId,\n                    airport_name_tujuan: response2.data[0].nameAirport,\n                    nation_code_tujuan: response2.data[0].codeIso2Country,\n                    latitude_tujuan: response2.data[0].latitudeAirport,\n                    longitude_tujuan: response2.data[0].longitudeAirport\n                  });\n                  store.setState({\n                    flight_list: response3.data\n                  });\n                  store.setState({\n                    weather: response4.data.data[0].weather.description,\n                    temperature: response4.data.data[0].temp,\n                    sunrise: response4.data.data[0].sunrise,\n                    sunset: response4.data.data[0].sunset\n                  });\n                  store.setState({\n                    rate: response5.data.rates.USD\n                  });\n                  store.setState({\n                    word: response6.data.text[0]\n                  });\n                })).catch(function (error) {});\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function getData(_x7) {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  };\n};","map":{"version":3,"sources":["/home/alphatech/Project React/project_react/src/store.js"],"names":["createStore","axios","initialState","api_key","username","password","full_name","email","is_login","listNews","listTopNews","search","iata_asal","airport_id_asal","airport_name_asal","nation_code_asal","latitude_asal","longitude_asal","iata_tujuan","airport_id_tujuan","airport_name_tujuan","nation_code_tujuan","latitude_tujuan","longitude_tujuan","flight_list","weather","temperature","sunrise","sunset","rate","base_currency","new_sum","word","estimasi_harga_lion","estimasi_harga_batik","estimasi_harga_citilink","estimasi_harga_garuda","estimasi_harga_sriwijaya","estimasi_harga_lain","urlHeadline","urlEverything","store","actions","setField","state","event","target","name","value","postLogout","postLogin","data","post","then","response","console","log","hasOwnProperty","setState","catch","error","getNews","get","articles","doSearch","keyword","urlSearch","getWeather","description","temp","getRates","rates","USD","getPrice","lat_asal","long_asal","lat_tujuan","long_tujuan","rad","x","Math","PI","radius_bumi","latitude","longitude","a","sin","cos","c","atan2","sqrt","distance_in_km","round","getNewPrice","getNewCurrency","moneysum","delayInMilliseconds","new_value","getData","all","spread","response1","response2","response3","response4","response5","response6","airportId","nameAirport","codeIso2Country","latitudeAirport","longitudeAirport","text"],"mappings":"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","sourcesContent":["import createStore from 'unistore';\nimport axios from 'axios';\n\nconst initialState = {\n    api_key: \"\",\n    username: \"\",\n    password: \"\",\n    full_name: \"\",\n    email: \"\",\n    is_login: false,\n    listNews: [],\n    listTopNews: [],\n    search: \"\",\n    iata_asal: \"SUB\",\n    airport_id_asal: \"\",\n    airport_name_asal: \"\",\n    nation_code_asal: \"\",\n    latitude_asal: \"\",\n    longitude_asal: \"\",\n    iata_tujuan: \"CGK\",\n    airport_id_tujuan: \"\",\n    airport_name_tujuan: \"\",\n    nation_code_tujuan: \"\",\n    latitude_tujuan: \"\",\n    longitude_tujuan: \"\",\n    flight_list: [],\n    weather: \"\",\n    temperature: \"\",\n    sunrise: \"\",\n    sunset: \"\",\n    rate: \"\",\n    base_currency:\"IDR\",\n    new_sum:\"\",\n    word: \"\",\n    estimasi_harga_lion : \"\",\n    estimasi_harga_batik: \"\",\n    estimasi_harga_citilink: \"\",\n    estimasi_harga_garuda:\"\",\n    estimasi_harga_sriwijaya: \"\",\n    estimasi_harga_lain: \"\"\n};\n\nconst urlHeadline = 'https://newsapi.org/v2/top-headlines?' + 'country=id&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\nconst urlEverything = 'https://newsapi.org/v2/everything?' + 'q=manchester united&' + 'apiKey=66cd3036f20e42b199d9335f9283b88e';\n\n// const keyFlight = 'key=2bd460-34e534';\n// const airportDatabase = 'https://aviation-edge.com/v2/public/airportDatabase';\n// const airportEndpoint = 'codeIataAirport='\n// const iataAirport = 'SUB'\n\n// const urlAirport = airportDatabase + '?' + keyFlight + '&' + airportEndpoint + iataAirport\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n    setField: (state, event) => {\n        return { [event.target.name]: event.target.value };\n    },\n\n    postLogout: state => {\n        return { is_login: false };\n    },\n\n    postLogin: async state => {\n        const data = { username: state.username, password: state.password };\n        await axios\n            .post(\"https://ilfarro1.free.beeceptor.com/signin\", data)\n            .then(response => {\n                console.log('post loginnnnnn!!!!', response.data)\n                if (response.data.hasOwnProperty('api_key')) {\n                    store.setState({\n                        'api_key': response.data.api_key,\n                        'is_login': true,\n                        full_name: state.username,\n                        'email': response.data.email\n                    })\n                }\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    },\n\n    getNews: state => {\n        axios\n            .get(urlEverything)\n            .then(function(response) {\n                store.setState({ listNews: response.data.articles });\n                console.log(response.data);\n            })\n            .catch(function(error) {\n               console.log(error); \n            });\n\n        axios\n            .get(urlHeadline)\n            .then(function(response) {\n                store.setState({ listTopNews: response.data.articles });\n                console.log(response.data);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    },\n\n    doSearch(state, keyword) {\n        const urlSearch = 'https://newsapi.org/v2/everything?' + 'q=' + keyword + '&apiKey=66cd3036f20e42b199d9335f9283b88e';\n        axios\n            .get(urlSearch)\n            .then(function(response) {\n                store.setState({ listNews: response.data.articles });\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    },\n\n    // airportDetail: state => {\n    //     axios\n    //     .get(urlAirport)\n    //     .then(function(response) {\n    //         store.setState({ \n    //             'airport_id_asal': response.data[0].airportId,\n    //             'airport_name_asal': response.data[0].nameAirport,\n    //             'nation_code_asal': response.data[0].codeIso2Country,\n    //             'latitude_asal': response.data[0].latitudeAirport,\n    //             'longitude_asal': response.data[0].longitudeAirport\n    //         });\n    //     })\n    //     .catch(function(error) {\n    //        console.log(error); \n    //     });\n    // },\n\n    getWeather : async state => {\n        try {\n        const response = await axios.get(\n        \"http://api.weatherbit.io/v2.0/current?lat=-7.2575&lon=112.7521&key=aa3c976285c64dafa3662f2e99d4bd03\"\n        )\n        store.setState({weather: response.data.data[0].weather.description,\n        temperature: response.data.data[0].temp,\n        sunrise: response.data.data[0].sunrise,\n        sunset: response.data.data[0].sunset,\n        })\n        }\n        catch(error){\n        console.log(error)\n        }\n        },\n\n    getRates : async state => {\n        try {\n        const response = await axios.get(\n        \" https://api.exchangeratesapi.io/latest?base=IDR\"\n        )\n        store.setState({weather: response.data.rates.USD})\n        }\n        catch(error){\n        console.log(error)\n        }\n        },\n\n    getPrice : (state, lat_asal, long_asal, lat_tujuan, long_tujuan) => {\n        const rad = function(x) {\n            return x * Math.PI / 180;\n            };\n\n        const radius_bumi = 6378137; // Earth’s mean radius in meter\n        const latitude = rad(lat_asal - lat_tujuan); // latitude awal - latitude akhir\n        const longitude = rad(long_asal - long_tujuan); // longitude awal - longitude akhir\n        const a = Math.sin(latitude / 2) * Math.sin(latitude / 2) + Math.cos(rad(lat_tujuan)) * Math.cos(rad(lat_asal)) * Math.sin(longitude / 2) * Math.sin(longitude / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        const distance_in_km = (radius_bumi * c) / 1000;\n\n        const estimasi_harga_lion = Math.round(distance_in_km * 1271.49321267)\n        const estimasi_harga_citilink = Math.round(distance_in_km * 1395.173453997)\n        const estimasi_harga_batik = Math.round(distance_in_km * 1586.726998492)\n        const estimasi_harga_sriwijaya = Math.round(distance_in_km * 1736.04826546)\n        const estimasi_harga_garuda = Math.round(distance_in_km * 2419.306184012)\n        const estimasi_harga_lain = Math.round(distance_in_km * 2000)\n        store.setState({\n            estimasi_harga_batik: estimasi_harga_batik,\n            estimasi_harga_citilink: estimasi_harga_citilink,\n            estimasi_harga_garuda: estimasi_harga_garuda,\n            estimasi_harga_lion:estimasi_harga_lion,\n            estimasi_harga_sriwijaya:estimasi_harga_sriwijaya,\n            estimasi_harga_lain: estimasi_harga_lain\n        })\n        return estimasi_harga_lain\n    },\n\n    getNewPrice: (state) => {\n        \n    },\n\n    // getNewCurrency : async (state, moneysum, value) => {\n    //     try {\n    //         const response = await axios.get(\n    //         \"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency\n    //         )\n    //         store.setState({rate: response.data.rates[value]})\n    //         }\n    //         catch(error){\n    //         console.log(error)\n    //     }\n    //     const new_value = state.rate * moneysum\n    //     store.setState({new_sum: new_value})   \n    // },\n\n    getNewCurrency: async (state, moneysum, value) => {\n        const delayInMilliseconds = 1000\n        await axios\n        .get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency)\n        .then(function (response) {\n            store.setState({rate: response.data.rates[value]})\n            const new_value = state.rate * moneysum\n            store.setState({new_sum: new_value})   \n        })\n        .catch(function(error) {\n           console.log(error); \n        });\n    },\n\n    \n\n    getData: async state => {\n        await axios\n        .all([\n        axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=d11ea5-5d02c1&codeIataAirport=\" + state.iata_asal),\n        axios.get(\"https://aviation-edge.com/v2/public/airportDatabase?key=d11ea5-5d02c1&codeIataAirport=\" + state.iata_tujuan),\n        axios.get(\"http://aviation-edge.com/v2/public/timetable?key=d11ea5-5d02c1&type=departure&status=scheduled&iataCode=\" + state.iata_asal),\n        axios.get(\"http://api.weatherbit.io/v2.0/current?lat=-7.2575&lon=112.7521&key=aa3c976285c64dafa3662f2e99d4bd03\"),\n        axios.get(\"https://api.exchangeratesapi.io/latest?base=\" + state.base_currency),\n        axios.get(\"https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20190314T152357Z.0b7d913c58c07a36.f353e3c73e10c2849b2fe3b87a70c613c5656395&text=selamat jalan&lang=id-it\")\n        ])\n        .then(\n        axios.spread(function(response1, response2, response3, response4, response5, response6) {\n        store.setState({ \n            airport_id_asal: response1.data[0].airportId,\n            airport_name_asal: response1.data[0].nameAirport,\n            nation_code_asal: response1.data[0].codeIso2Country,\n            latitude_asal: response1.data[0].latitudeAirport,\n            longitude_asal: response1.data[0].longitudeAirport\n        });\n        store.setState({ \n            airport_id_tujuan: response2.data[0].airportId,\n            airport_name_tujuan: response2.data[0].nameAirport,\n            nation_code_tujuan: response2.data[0].codeIso2Country,\n            latitude_tujuan: response2.data[0].latitudeAirport,\n            longitude_tujuan: response2.data[0].longitudeAirport\n        });\n        store.setState({ flight_list: response3.data });\n        store.setState({weather: response4.data.data[0].weather.description,\n            temperature: response4.data.data[0].temp,\n            sunrise: response4.data.data[0].sunrise,\n            sunset: response4.data.data[0].sunset,\n            });\n        store.setState({rate: response5.data.rates.USD});\n        store.setState({ word: response6.data.text[0] });\n        })\n        )\n        .catch(function(error) {});\n        },\n        \n})"]},"metadata":{},"sourceType":"module"}